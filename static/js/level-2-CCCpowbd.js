import{d as V,m as I,n as L,p as N,e as z,h as D,i as Y,o as x,c as $,q as j,s as R,j as n,t as F,v as W,u as A,f as T,b as h,w as k,T as C,x as B,y as b,a as M,z as H,l as O,A as U,B as X,_ as G}from"./index-hKGeHRwv.js";import{_ as J}from"./Paragraphs.vue_vue_type_script_setup_true_lang-DrvnNv1u.js";const y=.01,K=V({__name:"Flier",props:{flying:{type:Boolean,default:!0},decayRate:{default:1e-4}},setup(m){const e=m,{width:a,height:t}=I();let s;const r=L(),o=N({x:a.value*(Math.random()*.2+.4),y:t.value*(Math.random()*.1+.7)}),i={x:0,y:0},l=z(()=>({left:`${o.x}px`,top:`${o.y}px`}));let d=8e5,c=-.002;D(()=>{s=setInterval(_,y*1e3)}),Y(()=>clearInterval(s));const _=()=>{if(!e.flying)return;const p=o.x-r.x.value,f=o.y-r.y.value,u=Math.max(Math.sqrt(p*p+f*f),10),g=o.x-a.value/2,w=o.y-t.value/2,P=Math.max(Math.sqrt(g*g+w*w),10),q=p/(u*u*u)*d+g*P*c,E=f/(u*u*u)*d+w*P*c;i.x+=q*y,i.y+=E*y,o.x+=i.x*y,o.y+=i.y*y,d*=Math.exp(-e.decayRate),c*=Math.exp(-e.decayRate)};return(p,f)=>(x(),$("div",{class:"absolute",style:R(n(l))},[j(p.$slots,"default",{class:"m-auto",style:"transform: translate(-50%, -50%)"})],4))}}),v=F({selector:"html",attribute:"theme",valueDark:"dark",valueLight:"light"}),S=W(v),Q=m=>{const e=m.clientX,a=m.clientY,t=Math.hypot(Math.max(e,innerWidth-e),Math.max(a,innerHeight-a));if(!document.startViewTransition){S();return}document.startViewTransition(async()=>{S()}).ready.then(()=>{const r=[`circle(0px at ${e}px ${a}px)`,`circle(${t}px at ${e}px ${a}px)`];document.documentElement.animate({clipPath:v.value?[...r].reverse():r},{duration:400,easing:"ease-in",pseudoElement:v.value?"::view-transition-old(root)":"::view-transition-new(root)"})})},Z={class:"hide-scroll"},ee={key:0},te=V({__name:"level-2",setup(m){const e=O[2],a=A(),t=T(!1),s=T(!1);D(()=>{t.value=a.progress>=2,v.value=!t.value,v.value&&(document.body.style.overflowY="hidden")});const r=z(()=>{const l=-U().diff("2024-06-14 23:59:59","day"),d=l>0?`还有${l}天。`:"就是今日！";return e.body.replace("{days}",d)}),o=l=>{s.value?(t.value=!t.value,document.body.style.overflowY="auto",Q(l)):s.value=!0},i=()=>{prompt("保险箱密码")===X.level2.pwd&&a.updateProgress(2)};return(l,d)=>{const c=J,_=K;return x(),$("div",Z,[h(c,{data:n(e).pre,class:"dark:blur-[1px]"},null,8,["data"]),h(C,{name:"fade-simple"},{default:k(()=>[n(s)?(x(),B(c,{key:0,data:n(e).mid,class:"dark:blur-[1px]"},null,8,["data"])):b("",!0)]),_:1}),h(C,{name:"fade-slide",mode:"out-in"},{default:k(()=>[n(t)?(x(),$("div",ee,[h(c,{data:n(r)},null,8,["data"]),M("div",{class:"text-center"},[M("button",{class:"text-yellow-500 bg-yellow-100 border-yellow-300 border-2 rounded p-1 opacity-0 hover:opacity-100",onClick:i}," 输入密码 ")])])):b("",!0)]),_:1}),n(t)?b("",!0):(x(),B(_,{key:0,flying:n(s)},{default:k(()=>[M("button",{class:H(["text-gray-900 font-bold text-4xl",{"hover-glow":n(s)}]),style:R({"user-select":n(s)?"auto":"none"}),onClick:o}," 开灯 ",6)]),_:1},8,["flying"]))])}}}),oe=G(te,[["__scopeId","data-v-f50c33b3"]]);export{oe as default};
