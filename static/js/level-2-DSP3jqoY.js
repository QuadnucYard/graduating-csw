import{d as T,m as R,n as q,p as E,e as B,h as I,i as L,o as x,c as M,q as N,s as D,j as r,t as j,v as F,u as W,f as $,b as k,w as C,T as A,x as H,y as P,a as v,z as O,l as U,A as X,B as Y,C as G,D as J,_ as K}from"./index-CN752v_w.js";import{_ as Q}from"./Paragraphs.vue_vue_type_script_setup_true_lang-DEAzUugV.js";const y=.01,Z=T({__name:"Flier",props:{flying:{type:Boolean,default:!0},decayRate:{default:1e-4}},setup(s){const e=s,{width:o,height:t}=R();let n;const c=q(),a=E({x:o.value*(Math.random()*.1+.8),y:t.value*(Math.random()*.1+.8)}),i={x:0,y:0},l=B(()=>({left:`${a.x}px`,top:`${a.y}px`}));let d=8e5,u=-.002;I(()=>{n=setInterval(f,y*1e3)}),L(()=>clearInterval(n));const f=()=>{if(!e.flying)return;const m=a.x-c.x.value,h=a.y-c.y.value,p=Math.max(Math.sqrt(m*m+h*h),10),g=a.x-o.value/2,w=a.y-t.value/2,b=Math.max(Math.sqrt(g*g+w*w),10),V=m/(p*p*p)*d+g*b*u,z=h/(p*p*p)*d+w*b*u;i.x+=V*y,i.y+=z*y,a.x+=i.x*y,a.y+=i.y*y,d*=Math.exp(-e.decayRate),u*=Math.exp(-e.decayRate)};return(m,h)=>(x(),M("div",{class:"absolute",style:D(r(l))},[N(m.$slots,"default",{class:"m-auto",style:"transform: translate(-50%, -50%)"})],4))}}),_=j({selector:"html",attribute:"theme",valueDark:"dark",valueLight:"light"}),S=F(_),ee=s=>{const e=s.clientX,o=s.clientY,t=Math.hypot(Math.max(e,innerWidth-e),Math.max(o,innerHeight-o));if(!document.startViewTransition){S();return}document.startViewTransition(async()=>{S()}).ready.then(()=>{const c=[`circle(0px at ${e}px ${o}px)`,`circle(${t}px at ${e}px ${o}px)`];document.documentElement.animate({clipPath:_.value?[...c].reverse():c},{duration:400,easing:"ease-in",pseudoElement:_.value?"::view-transition-old(root)":"::view-transition-new(root)"})})},te=s=>(G("data-v-01a2598a"),s=s(),J(),s),ae={class:"hide-scroll"},se={key:0},oe=te(()=>v("hr",{class:"border-1 my-2"},null,-1)),ne=T({__name:"level-2",setup(s){const e=U[2],o=W(),t=$(!1),n=$(!1);I(()=>{_.value=!t.value});const c=B(()=>{const l=-X().diff("2024-06-14 23:59:59","day"),d=l>0?`还有${l}天。`:"就是今日！";return e.body.replace("{days}",d)}),a=l=>{n.value?(t.value=!t.value,ee(l)):n.value=!0},i=()=>{prompt("保险箱密码")===Y.level2.pwd&&o.updateProgress(2)};return(l,d)=>{const u=Q,f=Z;return x(),M("div",ae,[k(u,{data:r(e).pre,class:"dark:blur-[1px]"},null,8,["data"]),k(A,{name:"fade-slide",mode:"out-in"},{default:C(()=>[r(t)?(x(),M("div",se,[k(u,{data:r(c)},null,8,["data"]),oe,v("div",{class:"text-center"},[v("button",{class:"text-yellow-500 bg-yellow-100 border-yellow-300 border-2 rounded p-1",onClick:i}," 输入密码 ")])])):P("",!0)]),_:1}),r(t)?P("",!0):(x(),H(f,{key:0,flying:r(n)},{default:C(()=>[v("button",{class:O(["text-gray-900 font-bold text-4xl",{"hover-glow":r(n)}]),style:D({"user-select":r(n)?"auto":"none"}),onClick:a}," 开灯 ",6)]),_:1},8,["flying"]))])}}}),ce=K(ne,[["__scopeId","data-v-01a2598a"]]);export{ce as default};
