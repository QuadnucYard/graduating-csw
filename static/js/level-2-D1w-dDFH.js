import{j as ie,e as b,u as D,t as le,k as K,g as j,n as Q,l as ue,m as ce,p as de,q as U,w as z,f as C,s as fe,v as pe,d as Z,x as me,h as he,o as P,c as B,y as ve,z as ge,b as R,A as J,T as ye,B as we,C as X,a as H,D as _e,E as Se,_ as be}from"./index-GEzzrJ68.js";import{u as xe,_ as ke,l as Ee,d as Me,s as Ce}from"./progress-BCiygiDG.js";function ee(e){return ce()?(de(e),!0):!1}function I(e){return typeof e=="function"?e():D(e)}const Te=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Oe=Object.prototype.toString,Ae=e=>Oe.call(e)==="[object Object]",te=()=>{};function Ne(e,t){function n(...s){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(r).catch(o)})}return n}const ne=e=>e();function De(e=ne){const t=b(!0);function n(){t.value=!1}function s(){t.value=!0}const r=(...o)=>{t.value&&e(...o)};return{isActive:K(t),pause:n,resume:s,eventFilter:r}}function Ie(e){return U()}function Le(...e){if(e.length!==1)return le(...e);const t=e[0];return typeof t=="function"?K(ue(()=>({get:t,set:te}))):b(t)}function We(e,t,n={}){const{eventFilter:s=ne,...r}=n;return z(e,Ne(s,t),r)}function Fe(e,t,n={}){const{eventFilter:s,...r}=n,{eventFilter:o,pause:i,resume:l,isActive:a}=De(s);return{stop:We(e,t,{...r,eventFilter:o}),pause:i,resume:l,isActive:a}}function Y(e,t=!0,n){Ie()?j(e,n):t?e():Q(e)}function Ve(e=!1,t={}){const{truthyValue:n=!0,falsyValue:s=!1}=t,r=ie(e),o=b(e);function i(l){if(arguments.length)return o.value=l,o.value;{const a=I(n);return o.value=o.value===a?I(s):a,o.value}}return r?i:[o,i]}function re(e){var t;const n=I(e);return(t=n==null?void 0:n.$el)!=null?t:n}const T=Te?window:void 0;function O(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=T):[t,n,s,r]=e,!t)return te;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],i=()=>{o.forEach(p=>p()),o.length=0},l=(p,f,g,m)=>(p.addEventListener(f,g,m),()=>p.removeEventListener(f,g,m)),a=z(()=>[re(t),I(r)],([p,f])=>{if(i(),!p)return;const g=Ae(f)?{...f}:f;o.push(...n.flatMap(m=>s.map(y=>l(p,m,y,g))))},{immediate:!0,flush:"post"}),c=()=>{a(),i()};return ee(c),c}function Pe(){const e=b(!1),t=U();return t&&j(()=>{e.value=!0},t),e}function He(e){const t=Pe();return C(()=>(t.value,!!e()))}function oe(e,t={}){const{window:n=T}=t,s=He(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const o=b(!1),i=c=>{o.value=c.matches},l=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},a=pe(()=>{s.value&&(l(),r=n.matchMedia(I(e)),"addEventListener"in r?r.addEventListener("change",i):r.addListener(i),o.value=r.matches)});return ee(()=>{a(),l(),r=void 0}),o}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",$e=je();function je(){return V in F||(F[V]=F[V]||{}),F[V]}function se(e,t){return $e[e]||t}function ze(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Re={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},q="vueuse-storage";function Be(e,t,n,s={}){var r;const{flush:o="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:c=!1,shallow:p,window:f=T,eventFilter:g,onError:m=u=>{console.error(u)},initOnMounted:y}=s,h=(p?fe:b)(typeof t=="function"?t():t);if(!n)try{n=se("getDefaultStorage",()=>{var u;return(u=T)==null?void 0:u.localStorage})()}catch(u){m(u)}if(!n)return h;const w=I(t),E=ze(w),S=(r=s.serializer)!=null?r:Re[E],{pause:A,resume:v}=Fe(h,()=>x(h.value),{flush:o,deep:i,eventFilter:g});f&&l&&Y(()=>{O(f,"storage",k),O(f,q,W),y&&k()}),y||k();function d(u,_){f&&f.dispatchEvent(new CustomEvent(q,{detail:{key:e,oldValue:u,newValue:_,storageArea:n}}))}function x(u){try{const _=n.getItem(e);if(u==null)d(_,null),n.removeItem(e);else{const M=S.write(u);_!==M&&(n.setItem(e,M),d(_,M))}}catch(_){m(_)}}function N(u){const _=u?u.newValue:n.getItem(e);if(_==null)return a&&w!=null&&n.setItem(e,S.write(w)),w;if(!u&&c){const M=S.read(_);return typeof c=="function"?c(M,w):E==="object"&&!Array.isArray(M)?{...w,...M}:M}else return typeof _!="string"?_:S.read(_)}function k(u){if(!(u&&u.storageArea!==n)){if(u&&u.key==null){h.value=w;return}if(!(u&&u.key!==e)){A();try{(u==null?void 0:u.newValue)!==S.write(h.value)&&(h.value=N(u))}catch(_){m(_)}finally{u?Q(v):v()}}}}function W(u){k(u.detail)}return h}function ae(e){return oe("(prefers-color-scheme: dark)",e)}function Ye(e={}){const{selector:t="html",attribute:n="class",initialValue:s="auto",window:r=T,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:l=!0,storageRef:a,emitAuto:c,disableTransition:p=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},g=ae({window:r}),m=C(()=>g.value?"dark":"light"),y=a||(i==null?Le(s):Be(i,s,o,{window:r,listenToStorageChanges:l})),h=C(()=>y.value==="auto"?m.value:y.value),w=se("updateHTMLAttrs",(v,d,x)=>{const N=typeof v=="string"?r==null?void 0:r.document.querySelector(v):re(v);if(!N)return;let k;if(p&&(k=r.document.createElement("style"),k.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(k)),d==="class"){const W=x.split(/\s/g);Object.values(f).flatMap(u=>(u||"").split(/\s/g)).filter(Boolean).forEach(u=>{W.includes(u)?N.classList.add(u):N.classList.remove(u)})}else N.setAttribute(d,x);p&&(r.getComputedStyle(k).opacity,document.head.removeChild(k))});function E(v){var d;w(t,n,(d=f[v])!=null?d:v)}function S(v){e.onChanged?e.onChanged(v,E):E(v)}z(h,S,{flush:"post",immediate:!0}),Y(()=>S(h.value));const A=C({get(){return c?y.value:h.value},set(v){y.value=v}});try{return Object.assign(A,{store:y,system:m,state:h})}catch{return A}}function Je(e={}){const{valueDark:t="dark",valueLight:n="",window:s=T}=e,r=Ye({...e,onChanged:(l,a)=>{var c;e.onChanged?(c=e.onChanged)==null||c.call(e,l==="dark",a,l):a(l)},modes:{dark:t,light:n}}),o=C(()=>r.system?r.system.value:ae({window:s}).value?"dark":"light");return C({get(){return r.value==="dark"},set(l){const a=l?"dark":"light";o.value===a?r.value="auto":r.value=a}})}const Xe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function qe(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:s=!1,initialValue:r={x:0,y:0},window:o=T,target:i=o,scroll:l=!0,eventFilter:a}=e;let c=null;const p=b(r.x),f=b(r.y),g=b(null),m=typeof t=="function"?t:Xe[t],y=d=>{const x=m(d);c=d,x&&([p.value,f.value]=x,g.value="mouse")},h=d=>{if(d.touches.length>0){const x=m(d.touches[0]);x&&([p.value,f.value]=x,g.value="touch")}},w=()=>{if(!c||!o)return;const d=m(c);c instanceof MouseEvent&&d&&(p.value=d[0]+o.scrollX,f.value=d[1]+o.scrollY)},E=()=>{p.value=r.x,f.value=r.y},S=a?d=>a(()=>y(d),{}):d=>y(d),A=a?d=>a(()=>h(d),{}):d=>h(d),v=a?()=>a(()=>w(),{}):()=>w();if(i){const d={passive:!0};O(i,["mousemove","dragover"],S,d),n&&t!=="movement"&&(O(i,["touchstart","touchmove"],A,d),s&&O(i,"touchend",E,d)),l&&t==="page"&&O(o,"scroll",v,{passive:!0})}return{x:p,y:f,sourceType:g}}function Ge(e={}){const{window:t=T,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:o=!0}=e,i=b(n),l=b(s),a=()=>{t&&(o?(i.value=t.innerWidth,l.value=t.innerHeight):(i.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight))};if(a(),Y(a),O("resize",a,{passive:!0}),r){const c=oe("(orientation: portrait)");z(c,()=>a())}return{width:i,height:l}}const L=.01,Ke=Z({__name:"Flier",setup(e){const{width:t,height:n}=Ge();let s;const r=qe(),o=me({x:0,y:0}),i={x:0,y:0},l=C(()=>({left:`${o.x}px`,top:`${o.y}px`}));j(()=>{s=setInterval(a,L*1e3)}),he(()=>clearInterval(s));const a=()=>{const c=o.x-r.x.value,p=o.y-r.y.value,f=Math.max(Math.sqrt(c*c+p*p),10),g=o.x-t.value/2,m=o.y-n.value/2,y=Math.max(Math.sqrt(g*g+m*m),10),h=5e5,w=-.002,E=c/(f*f*f)*h+g*y*w,S=p/(f*f*f)*h+m*y*w;i.x+=E*L,i.y+=S*L,o.x+=i.x*L,o.y+=i.y*L};return(c,p)=>(P(),B("div",{class:"absolute",style:ge(D(l))},[ve(c.$slots,"default",{class:"m-auto",style:"transform: translate(-50%, -50%)"})],4))}}),$=Je({selector:"html",attribute:"theme",valueDark:"dark",valueLight:"light"}),G=Ve($),Qe=e=>{const t=e.clientX,n=e.clientY,s=Math.hypot(Math.max(t,innerWidth-t),Math.max(n,innerHeight-n));if(!document.startViewTransition){G();return}document.startViewTransition(async()=>{G()}).ready.then(()=>{const o=[`circle(0px at ${t}px ${n}px)`,`circle(${s}px at ${t}px ${n}px)`];document.documentElement.animate({clipPath:$.value?[...o].reverse():o},{duration:400,easing:"ease-in",pseudoElement:$.value?"::view-transition-old(root)":"::view-transition-new(root)"})})},Ue=e=>(_e("data-v-d83e13aa"),e=e(),Se(),e),Ze={class:"hide-scroll"},et={key:0},tt=Ue(()=>H("hr",{class:"border-1 my-2"},null,-1)),nt=Z({__name:"level-2",setup(e){const t=Ee[2],n=xe(),s=b(!1);j(()=>{$.value=!s.value});const r=C(()=>{const l=-Me().diff("2024-06-14 23:59:59","day"),a=l>0?`还有${l}天。`:"就是今日！";return t.body.replace("{days}",a)}),o=l=>{s.value=!s.value,Qe(l)},i=()=>{prompt("保险箱密码（4位）")===Ce.level2.pwd&&n.updateProgress(2)};return(l,a)=>{const c=ke,p=Ke;return P(),B("div",Ze,[R(c,{data:D(t).pre,class:"dark:blur-[1px]"},null,8,["data"]),R(ye,{name:"fade-slide",mode:"out-in"},{default:J(()=>[D(s)?(P(),B("div",et,[R(c,{data:D(r),class:"fade-slide-div"},null,8,["data"]),tt,H("div",{class:"text-center"},[H("button",{class:"text-yellow-500 bg-yellow-100 border-yellow-300 border-2 rounded p-1",onClick:i}," 输入密码 ")])])):X("",!0)]),_:1}),D(s)?X("",!0):(P(),we(p,{key:0},{default:J(()=>[H("button",{class:"text-gray-900 hover-glow font-bold text-4xl",onClick:o},"开灯")]),_:1}))])}}}),st=be(nt,[["__scopeId","data-v-d83e13aa"]]);export{st as default};
